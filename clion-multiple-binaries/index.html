<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="preload" href="/page-component---src-pages-clion-multiple-binaries-js-80044aed22401d6f23c6.js" as="script"/><link rel="preload" href="/path---clion-multiple-binaries-586c7e095e534a3909ec.js" as="script"/><link rel="preload" href="/layout-component---index-a2879b35e1f569f89061.js" as="script"/><link rel="preload" href="/app-ea5dbf65ee48b2594b2e.js" as="script"/><link rel="preload" href="/commons-7d7dc5e746ede27497b7.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"15178676390636814000":"app-ea5dbf65ee48b2594b2e.js","8144742166368117000":"page-component---src-pages-404-js-d1b6fe165865514a0916.js","16228548823048030000":"page-component---src-pages-about-js-5419118fa496c621aa18.js","12200721278437278000":"page-component---src-pages-chaiscript-recipes-js-fa3a085a8ea66d302c98.js","9594620781867358000":"page-component---src-pages-artwork-js-c8e280078fd6c2791950.js","13387013374800785000":"page-component---src-pages-cubicroll-js-22976c655df1d72709b4.js","8405022255812999000":"page-component---src-pages-clion-multiple-binaries-js-80044aed22401d6f23c6.js","14571134556174995000":"page-component---src-pages-freeglut-fixed-window-js-96ff9306aaf5101346a5.js","4016850265702045000":"page-component---src-pages-index-js-44f1592a9debc885353d.js","12830661747251483000":"page-component---src-pages-hwcursor-js-441b1905ed8062eb534d.js","13689988232354690000":"page-component---src-pages-line-bound-js-9f7ca68d2345cc1d6624.js","118364875583439550":"page-component---src-pages-lua-intf-js-07e5d19770deccba29fd.js","17985156244173736000":"page-component---src-pages-nether-devlog-js-4a7d4dfdf0943de86e1d.js","14152405270936720000":"page-component---src-pages-nsf-devlog-2-js-f5951f8a90a5a652f8e0.js","9169554604063220000":"page-component---src-pages-nsf-devlog-js-4de1e5a183cb5922516f.js","1452333863259707600":"page-component---src-pages-nsf-js-b6084f66bc163fadbb4a.js","8002428301075783000":"page-component---src-pages-odd-cpp-js-0363c2151dc78f5033e0.js","8423724801861283000":"page-component---src-pages-portfolio-js-11e962bea5d2f4224912.js","9721245201524513000":"page-component---src-pages-projects-js-f3fbba3e832022518a23.js","12340945852327236000":"page-component---src-pages-sortvis-js-6b1b2f8790cb2126f85c.js","18059632766440628000":"page-component---src-pages-rebus-js-1f48aed18c2a8a760969.js","5866629043876192000":"page-component---src-pages-uncopy-js-9b0854540b537a69413c.js","3059561710810546700":"page-component---src-pages-unity-3-d-array-of-custom-objects-js-20f06d86d36ac00033da.js","7013240841797279000":"page-component---src-pages-unity-3-d-spectator-camera-js-4eb43a66d856daf1319c.js","1570422109460401700":"page-component---src-pages-unity-3-d-pick-and-drag-js-f2761a7eea84bf83e88e.js","16490050847094010000":"page-component---src-pages-unreal-platforms-js-1b5dc70e4e6e2b5ca564.js","882884807161904000":"page-component---src-pages-windows-main-js-52193057b9ac89b0e032.js","6926990323429763000":"page-component---src-pages-wireframe-js-bb7f2de64d78b05285db.js","16647598582412890000":"path---404-586c7e095e534a3909ec.js","17953591736895156000":"path---about-586c7e095e534a3909ec.js","7271501769925354000":"path---chaiscript-recipes-586c7e095e534a3909ec.js","9986001659661870000":"path---artwork-586c7e095e534a3909ec.js","12033017992842664000":"path---cubicroll-586c7e095e534a3909ec.js","12625989487647412000":"path---clion-multiple-binaries-586c7e095e534a3909ec.js","13487468619723299000":"path---freeglut-fixed-window-586c7e095e534a3909ec.js","9347362237655822000":"path---index-586c7e095e534a3909ec.js","1374190494701750000":"path---hwcursor-586c7e095e534a3909ec.js","10057997867254098000":"path---line-bound-586c7e095e534a3909ec.js","566472300682297700":"path---lua-intf-586c7e095e534a3909ec.js","11986119922783824000":"path---nether-devlog-586c7e095e534a3909ec.js","6198458038639085000":"path---nsf-devlog-2-586c7e095e534a3909ec.js","14687764190454106000":"path---nsf-devlog-586c7e095e534a3909ec.js","1816814809712808700":"path---nsf-586c7e095e534a3909ec.js","8736120395001223000":"path---odd-cpp-586c7e095e534a3909ec.js","12589110883905569000":"path---portfolio-586c7e095e534a3909ec.js","6408524664133516000":"path---projects-586c7e095e534a3909ec.js","10770882656350593000":"path---sortvis-586c7e095e534a3909ec.js","4702101129390883000":"path---rebus-586c7e095e534a3909ec.js","9838961998885528000":"path---uncopy-586c7e095e534a3909ec.js","11619470239911205000":"path---unity-3-d-array-of-custom-objects-586c7e095e534a3909ec.js","14812566356430060000":"path---unity-3-d-spectator-camera-586c7e095e534a3909ec.js","15848427140066738000":"path---unity-3-d-pick-and-drag-586c7e095e534a3909ec.js","12210310786293494000":"path---unreal-platforms-586c7e095e534a3909ec.js","6076917203444821000":"path---windows-main-586c7e095e534a3909ec.js","12009341268478530000":"path---wireframe-586c7e095e534a3909ec.js","11711201792954765000":"path---404-html-586c7e095e534a3909ec.js","17241999800008180000":"layout-component---index-a2879b35e1f569f89061.js"}
            //]]>
            </script><style type="text/css" id="server-side-jss">.root-0-7 {
  margin-bottom: 40px;
}
.root-0-7 h1 {
  font-size: 2em;
  line-height: 1.5em;
}
.underline-0-8 {
  width: 100%;
  height: 1px;
  border-bottom: 1px solid #eee;
}
.date-0-9 {
  color: #b1b1b1;
  font-size: 0.9em;
  margin-bottom: 0px;
}
.root-0-12 {
  margin-bottom: 20px;
}
.root-0-4 {
  color: #0090B2;
  text-decoration: none;
}
.root-0-4:visited {
  text-decoration: none;
}
.root-0-4:focus {
  color: #0018BB;
  text-decoration: none;
}
.root-0-4:hover {
  color: #0018BB;
  text-decoration: none;
}
.disguise-0-5 {
  color: #34495e;
}
.disguise-0-5:hover {
  color: #34495e;
}
.disguise-0-5:visited {
  color: #34495e;
}
.disguise-0-5:focus {
  color: #34495e;
}
.root-0-14 {
  margin-bottom: 30px;
}
.root-0-17 {
  margin-top: 50px;
}
.normal-0-15 {
  font-size: 1.5em;
  margin-bottom: 20px;
}
.small-0-16 {
  font-size: 1.1em;
  margin-bottom: 10px;
}
.root-0-13 {
  padding: 2px 6px;
  border-radius: 4px;
  background-color: #f9f2f4;
}
.root-0-10 {
  display: flex;
  margin-top: 40px;
  margin-bottom: 40px;
  justify-content: center;
}
.fullWidth-0-11 {
  width: 100%;
  height: 100%;
}
.root-0-0 {
  width: 900px;
  margin: 0 auto;
  height: 80px;
  display: flex;
  max-width: 900px;
  align-items: center;
  flex-direction: row;
  justify-content: space-between;
}
.brand-0-1 {
  display: flex;
  align-items: center;
}
.brand-0-1 div {
  display: inline-block;
}
.logo-0-2 {
  width: 50px;
  height: 25px;
  margin-right: 20px;
  background-size: cover;
  background-image: url(data:image/png;base64,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);
  background-position: 0;
}
.menu-0-3 {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}
.menu-0-3 a {
  margin-right: 20px;
}
.menu-0-3 a:last-child {
  margin-right: 0;
}
.root-0-6 {
  width: 900px;
  margin: 30px auto 0 auto;
  max-width: 900px;
}
.root-0-18 {
  width: 100%;
  bottom: 0;
  height: 100px;
  display: flex;
  position: absolute;
  align-items: center;
}
.content-0-19 {
  width: 900px;
  margin: 0 auto;
  max-width: 900px;
}</style><title data-react-helmet="true">Building multiple linked binaries in CLion on Mac OS X | Aleksey Fedotov</title><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/commons-7d7dc5e746ede27497b7.js","/app-ea5dbf65ee48b2594b2e.js","/layout-component---index-a2879b35e1f569f89061.js","/path---clion-multiple-binaries-586c7e095e534a3909ec.js","/page-component---src-pages-clion-multiple-binaries-js-80044aed22401d6f23c6.js"
])
  </script><link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAATlJREFUWIXtlb9KA0EQhz8l4isIgSAH2ttY2UXEJ/ARRC20ibUg6U1ULOx8gVhG8AkUrEQ9BB9AUpuYU6PF7sKoO+T2jJBiP1g45rc3v5nbPweRSCQypiRAE0iBLvBZcGTAI3AMzOc137EvFjXVxhuwm8d8VIYDJV7TzBOl82VgJdC8BUwD2x4tQ1mOhpLMEVLAvn1nSdGPfAU8jKCANnBpuzwHnjEb+ezH1019BbyICXXfBMuaYn5n9QngScTnbPxQxPouWUkkls9FKAMLwBQwI+KrmKO8KGIDX4J7fnf1LvSQPXBlDU8U/dYlnRQG7dy9DqcFXAOnin7hC84CPb5X+gFUCT+GHWAPuPFoXaCiVb4ZaFRkrGvmji3g9R+Me8DGMHNHgrmYUv72X+hj7pcDzBJHIpHI+PEFo5MROikkzA0AAAAASUVORK5CYII="/><style id="gatsby-inlined-css">.hljs{display:block;overflow-x:auto;padding:.5em;color:#000;background:#f8f8ff}.hljs-comment,.hljs-quote{color:#408080;font-style:italic}.hljs-keyword,.hljs-literal,.hljs-selector-tag,.hljs-subst{color:#954121}.hljs-number{color:#40a070}.hljs-doctag,.hljs-string{color:#219161}.hljs-section,.hljs-selector-class,.hljs-selector-id,.hljs-type{color:#19469d}.hljs-params{color:#00f}.hljs-title{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-template-variable,.hljs-variable{color:teal}.hljs-link,.hljs-regexp{color:#b68}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@font-face{font-family:OpenSans;src:url(/static/OpenSans-Regular-webfont.83efe336.eot);src:url(/static/OpenSans-Regular-webfont.83efe336.eot?#iefix) format("embedded-opentype"),url(/static/OpenSans-Regular-webfont.55b8ce1f.woff) format("woff"),url(/static/OpenSans-Regular-webfont.3cbf4d3e.ttf) format("truetype"),url(/static/OpenSans-Regular-webfont.2d13ddbb.svg#open_sansregular) format("svg");font-weight:400;font-style:normal}body,html{margin:0;padding:0;font-family:OpenSans,sans-serif;font-size:18px;line-height:31px;color:#34495e}html{position:relative;min-height:100%}body{margin-bottom:150px}h1,h2,h3,h4{margin-top:0;margin-bottom:0}iframe{border:none}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="-70582796"><div class="root-0-0" data-reactid="2"><a class="root-0-4 disguise-0-5" href="/" target="" data-reactid="3"><div class="brand-0-1" data-reactid="4"><div class="logo-0-2" data-reactid="5"></div><div data-reactid="6">// Home page of one programmer</div></div></a><div class="menu-0-3" data-reactid="7"><a class="root-0-4 " href="/" target="" data-reactid="8"><strong data-reactid="9">Articles</strong></a><a class="root-0-4 " href="/projects" target="" data-reactid="10"><strong data-reactid="11">Projects</strong></a><a class="root-0-4 " href="/about" target="" data-reactid="12"><strong data-reactid="13">About</strong></a></div></div><div class="root-0-6" data-reactid="14"><div data-reactid="15"><div class="root-0-7" data-reactid="16"><h1 data-reactid="17">Building multiple linked binaries in CLion on Mac OS X</h1><div class="underline-0-8" data-reactid="18"></div><span class="date-0-9" data-reactid="19">19 Oct 2014</span><!-- react-empty: 20 --></div><div class="root-0-10" data-reactid="21"><img src="/static/logo.bf7ee2bb.png" class="" data-reactid="22"/></div><div class="root-0-12" data-reactid="23"><a class="root-0-4 " href="https://www.jetbrains.com/clion/" target="" data-reactid="24">CLion</a><!-- react-text: 25 --> is a new C/C++ IDE from JetBrains, the creators of ReSharper, IntelliJ IDEA and many other great products for software developers. CLion is claimed to support a full-featured refactoring workflow for C++, similar to how it is already implemented in other JetBrains products. At this moment the IDE is available in early access mode, which means that we can download and use it freely, keeping in mind that the product is not stable yet, so bugs are possible.<!-- /react-text --></div><div class="root-0-12" data-reactid="26">I decided to move one of my projects from XCode to CLion. The refactoring capabilities of XCode for C++ are far from being good (in fact, there is no refactoring support for C++), and after using ReSharper for my C# projects, I simply don’t understand how to work without “Rename”, “Find usages”, “Generate missing members”, smart highlighting and a plenty of other super-useful features.</div><div class="root-0-12" data-reactid="27">CLion uses CMake to describe and manage its projects (at least yet). If you’re not very familiar with CMake (like me), creating and building anything more complex than the default Hello world will be sort of a nightmare. In this post I’ll share my experience in building a static library and a project that uses this library in CLion, hoping that this will save a lot of googling time for anyone having the similar task.</div><div class="root-0-12" data-reactid="28">For example, we want to build a static library named solo and a test project Test1 that links against it. My project structure looks like this:</div><div class="root-0-10" data-reactid="29"><img src="/static/project.29667d0c.png" class="" data-reactid="30"/></div><div class="root-0-12" data-reactid="31"><!-- react-text: 32 -->The <!-- /react-text --><code class="root-0-13" data-reactid="33">src</code><!-- react-text: 34 --> folder contains the library source files and the <!-- /react-text --><code class="root-0-13" data-reactid="35">include</code><!-- react-text: 36 --> folder contains the interface headers. The <!-- /react-text --><code class="root-0-13" data-reactid="37">Test1</code><!-- react-text: 38 --> project resides inside the <!-- /react-text --><code class="root-0-13" data-reactid="39">tests/test1</code><!-- react-text: 40 --> folder. I’m using a single <!-- /react-text --><code class="root-0-13" data-reactid="41">CMakeLists.txt</code><!-- react-text: 42 --> for everything for the sake of simplicity. As the project grows bigger, you might consider splitting it into several <!-- /react-text --><code class="root-0-13" data-reactid="43">CMakeLists’</code><!-- react-text: 44 --> to make it modular and easier to manage.<!-- /react-text --></div><div class="root-0-12" data-reactid="45"><!-- react-text: 46 -->Lets examine the <!-- /react-text --><code class="root-0-13" data-reactid="47">CMakeLists.txt</code><!-- react-text: 48 --> file. The first two lines are added by CLion by default:<!-- /react-text --></div><div class="root-0-14" data-reactid="49"><pre data-reactid="50"><code class="cmake" data-reactid="51">cmake_minimum_required(VERSION 2.8.4)
project(solo)</code></pre></div><div class="root-0-12" data-reactid="52"><!-- react-text: 53 -->They state that we want CMake version to be at least 2.8.4, and our project is called <!-- /react-text --><code class="root-0-13" data-reactid="54">solo</code><!-- react-text: 55 -->.<!-- /react-text --></div><div class="root-0-12" data-reactid="56"><!-- react-text: 57 -->Here comes the first interesting part: we tell CLion where to save the output binaries. By default, they are put into some wierd location like <!-- /react-text --><code class="root-0-13" data-reactid="58">/Users/&lt;username&gt;/Library/Caches/clion10/cmake/generated/707a014b/707a014b/Debug</code><!-- react-text: 59 -->. Here we want to store them in some more conventional place like the build folder inside the project folder:<!-- /react-text --></div><div class="root-0-14" data-reactid="60"><pre data-reactid="61"><code class="cmake" data-reactid="62">set(EXECUTABLE_OUTPUT_PATH &quot;${PROJECT_SOURCE_DIR}/build/&quot;)
set(LIBRARY_OUTPUT_PATH &quot;${PROJECT_SOURCE_DIR}/build/&quot;)</code></pre></div><div class="root-0-12" data-reactid="63">The next line tells CMake to pass specific flags to the Clang compiler:</div><div class="root-0-14" data-reactid="64"><pre data-reactid="65"><code class="cmake" data-reactid="66">add_compile_options(-std=c++0x)</code></pre></div><div class="root-0-12" data-reactid="67">Our library needs some headers to compile, so we tell CMake to search them in a number of directores:</div><div class="root-0-14" data-reactid="68"><pre data-reactid="69"><code class="cmake" data-reactid="70">include_directories(
    ${PROJECT_SOURCE_DIR}/include
    ${PROJECT_SOURCE_DIR}/external/SDL/2.0.3/include)</code></pre></div><div class="root-0-12" data-reactid="71"><!-- react-text: 72 -->Here the <!-- /react-text --><code class="root-0-13" data-reactid="73">${PROJECT_SOURCE_DIR}</code><!-- react-text: 74 --> refers to the root project folder.<!-- /react-text --></div><div class="root-0-12" data-reactid="75">We also need to specify where to look for the external libraries when linking our library against them:</div><div class="root-0-14" data-reactid="76"><pre data-reactid="77"><code class="cmake" data-reactid="78">link_directories(${PROJECT_SOURCE_DIR}/external/SDL/2.0.3)</code></pre></div><div class="root-0-12" data-reactid="79"><!-- react-text: 80 -->Next we tell CMake to find all <!-- /react-text --><code class="root-0-13" data-reactid="81">*.cpp</code><!-- react-text: 82 --> files inside the src folder and put them into the <!-- /react-text --><code class="root-0-13" data-reactid="83">sources</code><!-- react-text: 84 --> variable:<!-- /react-text --></div><div class="root-0-14" data-reactid="85"><pre data-reactid="86"><code class="cmake" data-reactid="87">file(GLOB sources &quot;src/*.cpp&quot;)</code></pre></div><div class="root-0-12" data-reactid="88">In the next chunk of code we tell CMake to find some frameworks that we’re going to be using, and save their paths to the frameworks variable:</div><div class="root-0-14" data-reactid="89"><pre data-reactid="90"><code class="cmake" data-reactid="91">find_library(carbon_lib Carbon) # we look for the Carbon framework and use carbon_lib as an alias for it
find_library(iokit_lib IOKit)
find_library(forcefeedback_lib ForceFeedback)
find_library(cocoa_lib Cocoa)
find_library(audiounit_lib AudioUnit)
find_library(coreaudio_lib CoreAudio)
find_library(opengl_lib OpenGL)
find_library(corefoundation_lib CoreFoundation)

set(frameworks
    ${carbon_lib}
    ${iokit_lib}
    ${forcefeedback_lib}
    ${cocoa_lib}
    ${audiounit_lib}
    ${coreaudio_lib}
    ${opengl_lib}
    ${corefoundation_lib})</code></pre></div><div class="root-0-12" data-reactid="92">Finally, we say that we want to build a static library from the given sources and link it against the SDL2 library and the frameworks that we found before:</div><div class="root-0-14" data-reactid="93"><pre data-reactid="94"><code class="cmake" data-reactid="95">add_library(solo STATIC ${sources})
target_link_libraries(solo SDL2 ${frameworks})</code></pre></div><div class="root-0-12" data-reactid="96"><!-- react-text: 97 -->Adding the second binary (the <!-- /react-text --><code class="root-0-13" data-reactid="98">Test1</code><!-- react-text: 99 --> executable) is as easy as it is. We tell CMake to build it from the <!-- /react-text --><code class="root-0-13" data-reactid="100">Main.cpp</code><!-- react-text: 101 --> file and link agains the <!-- /react-text --><code class="root-0-13" data-reactid="102">solo</code><!-- react-text: 103 --> library:<!-- /react-text --></div><div class="root-0-14" data-reactid="104"><pre data-reactid="105"><code class="cmake" data-reactid="106">add_executable(Test1 tests/test1/Main.cpp)
target_link_libraries(Test1 LINK_PUBLIC solo)</code></pre></div><div class="root-0-12" data-reactid="107"><!-- react-text: 108 -->Now if you hit <!-- /react-text --><code class="root-0-13" data-reactid="109">Cmd + F9</code><!-- react-text: 110 --> (Build), you should see two new files inside the build folder: <!-- /react-text --><code class="root-0-13" data-reactid="111">Test1</code><!-- react-text: 112 --> and <!-- /react-text --><code class="root-0-13" data-reactid="113">libsolo.a</code><!-- react-text: 114 -->.<!-- /react-text --></div><div class="root-0-12" data-reactid="115"><!-- react-text: 116 -->The whole <!-- /react-text --><code class="root-0-13" data-reactid="117">CMakeLists.txt</code><!-- react-text: 118 --> file:<!-- /react-text --></div><div class="root-0-14" data-reactid="119"><pre data-reactid="120"><code class="cmake" data-reactid="121">cmake_minimum_required(VERSION 2.8.4)
project(solo)

set(EXECUTABLE_OUTPUT_PATH &quot;${PROJECT_SOURCE_DIR}/build/&quot;)
set(LIBRARY_OUTPUT_PATH &quot;${PROJECT_SOURCE_DIR}/build/&quot;)

add_compile_options(-std=c++0x)

include_directories(
    ${PROJECT_SOURCE_DIR}/include
    ${PROJECT_SOURCE_DIR}/external/SDL/2.0.3/include)

link_directories(${PROJECT_SOURCE_DIR}/external/SDL/2.0.3)

# Engine

file(GLOB sources &quot;src/*.cpp&quot;)

find_library(carbon_lib Carbon)
find_library(iokit_lib IOKit)
find_library(forcefeedback_lib ForceFeedback)
find_library(cocoa_lib Cocoa)
find_library(audiounit_lib AudioUnit)
find_library(coreaudio_lib CoreAudio)
find_library(opengl_lib OpenGL)
find_library(corefoundation_lib CoreFoundation)

set(frameworks
    ${carbon_lib}
    ${iokit_lib}
    ${forcefeedback_lib}
    ${cocoa_lib}
    ${audiounit_lib}
    ${coreaudio_lib}
    ${opengl_lib}
    ${corefoundation_lib})

add_library(solo STATIC ${sources})
target_link_libraries(solo SDL2 ${frameworks})

# Tests
add_executable(Test1 tests/test1/Main.cpp)
target_link_libraries(Test1 LINK_PUBLIC solo)</code></pre></div><h2 class="normal-0-15" data-reactid="122">Conclusion</h2><div class="root-0-12" data-reactid="123">This article gives a recipe for writing a simple CMake file for building two linked binaries in CLion. Keep in mind that I’m not an expert in CMake, neither in Clion, so the given file might not be the best that you can make to get the job done. However, it gives a good start for working with CLion, which, as I have noticed, is not well covered in the online tutorials yet.</div><div class="root-0-17" data-reactid="124"><div data-reactid="125"><div id="disqus_thread" data-reactid="126"></div></div></div></div></div><div class="root-0-18" data-reactid="127"><div class="content-0-19" data-reactid="128">© 2014-2017 Aleksey Fedotov</div></div></div></div></body></html>