<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>FreeGlut fixed window | Raycast</title>

		<link href="/css/vendor/bootstrap.min.css" rel="stylesheet">
    	<link href="/css/flat-ui.min.css" rel="stylesheet">
		<link rel="stylesheet" href="/css/style.css"/>
		<link rel="stylesheet" href="/css/syntax.css" media="screen"/>
		<link rel="stylesheet" href="/css/fancybox/jquery.fancybox.css" media="screen"/>
		<link rel="stylesheet" href="/css/fancybox/jquery.fancybox-buttons.css" media="screen" />
		<link rel="stylesheet" href="/css/fancybox/jquery.fancybox-thumbs.css" media="screen" />
		<link rel="shortcut icon" type="image/png" href="/data/gamepad2.png">

	</head>
	<body>
		<div class="container page">
			<div class="navbar navbar-default" role="navigation">
	<div class="container-fluid">
		<div class="navbar-header">
			<a class="navbar-brand" href="/">
				<img src="/data/gamepad_large.png"/>
			</a>
			<div class="navbar-text">Home page of one programmer</div>
		</div>
		<ul class="nav navbar-nav navbar-right">
			<li ><a href="/">Blog</a></li>
			<li ><a href="/portfolio/">Portfolio</a></li>
			<li ><a href="/about/">About</a></li>
		</ul>
	</div>
</div>


			<div class="content">
				<div class="article">
	<div class="row">
		<div class="col-xs-12">
			<h2>FreeGlut fixed window</h2>
			
				<span class="small text-muted">31 Mar 2013</span>
			
		</div>
	</div>
	
	<div class="article-content">
		<p>It seems like FreeGLUT has no support for fixed-size windows at the moment
(i.e. having normal border, but non-resizable). For my needs I wrote a small patch (for windows version only) which fixes this failing.</p>

<p>In FreeGLUT sources find the freeglut_ext.h file and modify it as follows (new lines are marked with ++):</p>

<div class="highlight"><pre><code class="language-c" data-lang="c"><span class="cm">/*</span>
<span class="cm"> * GLUT API macro definitions -- the display mode definitions</span>
<span class="cm"> */</span>
<span class="cp">#define  GLUT_CAPTIONLESS                   0x0400</span>
<span class="cp">#define  GLUT_BORDERLESS                    0x0800</span>
<span class="cp">#define  GLUT_SRGB                          0x1000</span>
<span class="o">++</span> <span class="err">#</span><span class="n">define</span>  <span class="n">GLUT_FIXED_SIZE</span>                    <span class="mh">0x0040</span></code></pre></div>

<p>Next, modify the freeglut_window.c file:</p>

<div class="highlight"><pre><code class="language-c" data-lang="c"><span class="k">else</span> <span class="nf">if</span><span class="p">(</span> <span class="n">window</span><span class="o">-&gt;</span><span class="n">Parent</span> <span class="o">==</span> <span class="nb">NULL</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">fgState</span><span class="p">.</span><span class="n">DisplayMode</span> <span class="o">&amp;</span> <span class="n">GLUT_BORDERLESS</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="cm">/* no window decorations needed */</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">fgState</span><span class="p">.</span><span class="n">DisplayMode</span> <span class="o">&amp;</span> <span class="n">GLUT_CAPTIONLESS</span> <span class="p">)</span>
        <span class="cm">/* only window decoration is a border, no title bar or buttons */</span>
        <span class="n">flags</span> <span class="o">|=</span> <span class="n">WS_DLGFRAME</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="cm">/* window decoration are a border, title bar and buttons.</span>
<span class="cm">         * NB: we later query whether the window has a title bar or</span>
<span class="cm">         * not by testing for the maximize button, as the test for</span>
<span class="cm">         * WS_CAPTION can be true without the window having a title</span>
<span class="cm">         * bar. This style WS_OVERLAPPEDWINDOW gives you a maximize</span>
<span class="cm">         * button. */</span>
         <span class="n">flags</span> <span class="o">|=</span> <span class="n">WS_OVERLAPPEDWINDOW</span><span class="p">;</span>
<span class="o">++</span>    <span class="k">if</span> <span class="p">(</span><span class="n">fgState</span><span class="p">.</span><span class="n">DisplayMode</span> <span class="o">&amp;</span> <span class="n">GLUT_FIXED_SIZE</span><span class="p">)</span>
<span class="o">++</span>   <span class="n">flags</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="p">(</span><span class="n">WS_MAXIMIZEBOX</span> <span class="o">|</span> <span class="n">WS_THICKFRAME</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<p>This is a dirty hack, but probably FreeGLUT developers will introduce a good solution soon.</p>

	</div>
</div>

			<div>

			
	<div id="disqus_thread">
	</div>
	<script type="text/javascript">
		var disqus_shortname = 'raycastnet'; // required: replace example with your forum shortname
		(function() {
			var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


		</div>

		<div class="footer">
	<p class="text-muted">Â© 2014-2016 Aleksey Fedotov</p>
</div>

<script src="/js/vendor/jquery.min.js"></script>
<script src="/js/vendor/video.js"></script>
<script src="/js/flat-ui.min.js"></script>
<script src="/js/fancybox/jquery.fancybox.pack.js"></script>
<script src="/js/fancybox/jquery.fancybox-buttons.js"></script>
<script src="/js/fancybox/jquery.fancybox-media.js"></script>
<script src="/js/fancybox/jquery.fancybox-thumbs.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-50872849-1', 'raycast.net');
  ga('send', 'pageview', {
    "page": "/2013/03/31/freeglut-fixed-window.html",
    "title": 'FreeGlut fixed window'
  });
</script>

<script>
	$(document).ready(function() {
		$(".lightbox").fancybox();
	});
</script>

	</body>
</html>
